var dateDiff={inMinutes:function(e,t){var a=t.getTime(),n=e.getTime();return parseInt((a-n)/6e4)},inHours:function(e,t){var a=t.getTime(),n=e.getTime();return parseInt((a-n)/36e5)},inDays:function(e,t){var a=t.getTime(),n=e.getTime();return parseInt((a-n)/864e5)},inWeeks:function(e,t){var a=t.getTime(),n=e.getTime();return parseInt((a-n)/6048e5)},inMonths:function(e,t){var a=e.getFullYear(),n=t.getFullYear(),i=e.getMonth();return t.getMonth()+12*n-(i+12*a)},inYears:function(e,t){return t.getFullYear()-e.getFullYear()}};function fixDate(e){return(/^[0-9]{2}\/[A-Za-z]{3}\/[0-9]{4}$/.test(e)||/^[0-9]{2}\/[0-9]{2}\/[0-9]{4}$/.test(e))&&(e=(e=(e=(e=(e=(e=(e=(e=(e=(e=(e=(e=(e=e.replace("Jan","01")).replace("Fev","02")).replace("Mar","03")).replace("Abr","04")).replace("Mai","05")).replace("Jun","06")).replace("Jul","07")).replace("Ago","08")).replace("Set","09")).replace("Out","10")).replace("Nov","11")).replace("Dez","12")).split("/").reverse().join("-")),/^[0-9]{4}\-[0-9]{2}\-[0-9]{2}$/.test(e)&&(e+=" 00:00:00"),(/^[0-9]{4}\-[0-9]{2}\-[0-9]{2} [0-9]{2}\:[0-9]{2}\:[0-9]{2}$/.test(e)||/^[0-9]{4}\-[0-9]{2}\-[0-9]{2} [0-9]{1}\:[0-9]{2}\:[0-9]{2}$/.test(e))&&(d=e.replace(/[ :]/g,"-").split("-"),e=new Date(d[0],d[1]-1,d[2],d[3],d[4],d[5])),/^([0-9])*$/.test(e)&&(e=new Date(1e3*e)),e}function pastDate(e){var t=e=fixDate(e),a=new Date;return dateDiff.inMonths(t,a)>=12?"Há "+(1==dateDiff.inYears(t,a)?"um ano":dateDiff.inYears(t,a)+" anos"):dateDiff.inWeeks(t,a)>=4?"Há "+(1==dateDiff.inMonths(t,a)?"um mês":dateDiff.inMonths(t,a)+" meses"):dateDiff.inDays(t,a)>=7?"Há "+(1==dateDiff.inWeeks(t,a)?"uma semana":dateDiff.inWeeks(t,a)+" semanas"):dateDiff.inHours(t,a)>=24?"Há "+(1==dateDiff.inDays(t,a)?"um dia":dateDiff.inDays(t,a)+" dias"):dateDiff.inMinutes(t,a)>=60?"Há "+(1==dateDiff.inHours(t,a)?"uma hora":dateDiff.inHours(t,a)+" horas"):dateDiff.inMinutes(t,a)>0?"Há "+(1==dateDiff.inMinutes(t,a)?"um minuto":dateDiff.inMinutes(t,a)+" minutos"):"Agora!"}function isNew(e){var t=e=fixDate(e),a=new Date;return 0==dateDiff.inMonths(t,a)}function setTimes(){for(var e=document.querySelectorAll("[data-time]"),t=0,a=e.length;t<a;t++)e[t].innerHTML=pastDate(e[t].dataset.time);var n=document.querySelectorAll("[data-added]");for(t=0,a=n.length;t<a;t++)isNew(n[t].dataset.added)&&n[t].classList.add("new")}window.addEventListener("histDocReady",setTimes,!1),window.addEventListener("load",setTimes,!1);
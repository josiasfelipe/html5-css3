$(vgl.lib().vPlayer).run(function(){this.front={Init:function(t){var e;this.render=function(e){var n={createPlayer:function(){var e=s.container();t.modules.getObjSong(),t.target.prepend(e),t.target.addClass("playerOn"),t.target.trigger("player.front.ready"),t.front.setEvents(),t.subtitle.setEvents(),t.front.initSlider(),t.defaults.backgroundImage&&(t.target.find("#"+t.id+" .vProfile").html("<canvas data-blur=15 class=blur></canvas>"),t.front.updateCanvas(t.defaults.backgroundImage)),"mobile"==t.defaults.type&&(new t.modules.timeoutTransitionToPlayer).setTime()},contentPlayer:function(){var i=s.player(),a=t.target.find(".vContentPlayer");a.children().length||(a.append(i),t.front.feedbackPlayer.showPlayer(),"function"==typeof e.callback&&e.callback())},listSearch:function(){var n=t.target.find(".containerSearch"),o=s.searchContent(e),l=!!e.data&&e.data.service,r=n.find('[data-service="'+l+'"]'),d=t.target.find("#"+t.id).find(".vSearch");d.find(".loadingVgl.more").remove(),r.length?e.searchMore?(r.addClass("moreList").append(o),$("#"+t.id).trigger("completeSearch.front"),i()):(n.find("ul[data-service]").removeClass("moreList").attr("data-offset",0),d.find('.vTabChoice li[data-service="'+l+'"].active').length?a(l,function(){var e=t.modules.transition();d.find(".inputSearch .loading").remove(),r.removeAttr("style").html(o),t.core.isPlaying()?t.front.source.playCurrentSong():t.front.source.stopCurrentSong(),e.end(),i()}):(r.html(o),i())):(o='<ul data-service="'+l+'">'+(e.data.loading?'<div class=loadingVgl><img src="/img/vplayer/vplayer-spinner-branco.svg"></div>':"")+o+"</ul>",n.append(o))},returnToVideo:function(){var i=t.target.find("#"+t.id),a=i.find(".vOtherSubtitles"),n=i.find(".vSearch"),s=t.transition.effects,o=function(){t.modules.transition().end(),e.callback&&e.callback(),i.is(":hover")&&(i.removeClass("controlsFixed"),(new t.modules.timeoutTransitionToPlayer).setTime())};n.hasClass("active")?s.searchOut(function(){s.controlsIn(o)},"up"):a.hasClass("active")?s.otherLangOut(function(){s.controlsIn(o)},"up"):o()},createPlaylist:function(){var i=t.target.find("#"+t.id),a=i.find(".vOtherSubtitles"),n=i.find(".listPlaylist"),s=t.transition.effects,o=function(){s.playlistIn(function(){t.modules.transition().end(),t.front.controls.setVisibleItemPlaying()},!!e.firstTime&&"firstTime")};n.siblings(".active").length?s.searchOut(function(){s.playlistIn(function(){t.modules.transition().end()},"up")},"up"):a.hasClass("active")?s.otherLangOut(function(){s.playlistIn(function(){t.modules.transition().end(),t.core.isPlaying()?t.front.source.playCurrentSong():t.front.source.stopCurrentSong(),t.front.controls.setVisibleItemPlaying()},"up")},"up"):n.hasClass("active")?s.playlistOut(function(){s.controlsIn(function(){t.modules.transition().end()})}):s.controlsOut(o)},changeAudio:function(){var e=t.target.find("#"+t.id),a=e.find(".vOtherSubtitles"),n=e.find(".vLabelEndPlaylist"),s=t.target.find("#"+t.id+" .changeAudio"),o=t.transition.effects;e.find(".listPlaylist.active").length?(o.playlistOut(function(){o.searchOut(function(){t.modules.transition().end(),i()},"up"),o.controlsIn(function(){t.modules.transition().end(),i()})},"up"),t.target.find(".vPlaylist").css({position:"absolute",left:"-50%"})):a.hasClass("active")?o.otherLangOut(function(){o.searchIn(function(){t.modules.transition().end(),t.target.find(".vPlaylist").css({display:"none"}),t.core.isPlaying()?t.front.source.playCurrentSong():t.front.source.stopCurrentSong(),i()},"up")},"up"):s.hasClass("active")?n.hasClass("active")?(t.front.render({action:"returnToVideo"}),t.front.controls.hideLabelEndedPlaylist()):o.searchOut(function(){o.controlsIn(function(){t.modules.transition().end()})}):o.controlsOut(function(){o.searchIn(function(){t.modules.transition().end(),t.front.source.putVideoToTop(),i()})})},otherSubtitles:function(){var e=t.target.find("#"+t.id+" .vOtherSubtitles"),i=t.transition.effects,a=function(){i.otherLangIn(function(){t.modules.transition().end()})};e.hasClass("active")?i.otherLangOut(function(){i.controlsIn(function(){t.modules.transition().end()})}):(i.buttonBackIn("subtitles"),i.controlsOut(a))},listPlaylist:function(){var e=t.target.find("#"+t.id+" .vPlaylist"),i=t.transition.effects,a=function(){i.playlistIn(function(){t.modules.transition().end()})};if(e.hasClass("active"))i.playlistOut(function(){i.buttonBackOut(),i.controlsIn(function(){t.modules.transition().end()})});else if(e.siblings(".active").length){var n=e.siblings(".active");n.hasClass("vSearch")?i.searchOut(a,!1,!0):n.hasClass("vOtherSubtitles")&&i.otherLangOut(a,!1,!0)}else i.controlsOut(a)},renderPlayer:function(){var i=e.type,a=t.target.find("#"+t.id);if(i){"lockSize"in e&&(t.defaults.lockSize=e.lockSize,e.lockSize?$(".screen").removeClass("icon-modoTeatro").addClass("icon-visualizacaoPadrao").addClass("locked"):$(".screen").removeClass("icon-visualizacaoPadrao").removeClass("locked").addClass("icon-modoTeatro")),t.defaults.type=i,a.removeClass("default big").addClass(i);var n=t.front.style();n&&a.attr("style",n),function(){var t=$("body"),e=t.data("player"),i=$("#lyricContent");if($("#lyrics:not(.cifra)").length&&"big"!=e.defaults.type&&(i=$("#lyrics")),i.length){var a=i[0].getBoundingClientRect();if(e){var n=i.position().top+"px",s=a.left+"px";"mobile"==e.defaults.type?(t.find("#songTools").length?t.find("#songTools"):t.find("#songTab"),n=t.find("#lyricContent").position().top+15+"px"):"default"==e.defaults.type&&(n=t.find("#lyricContent").offset().top+"px",s=a.right+10+"px"),$("#"+e.id).css({left:s,top:n,position:"absolute"}).show()}}}()}}};n.hasOwnProperty(e.action)&&n[e.action]()},this.style=function(){var e="";switch(t.defaults.type){case"big":e="width:728px;height:545px;";break;case"mobile":e="width:98%;height:295px;";break;case"default":e="width:380px;height:385px;"}return e},this.confSubtitle=function(e){var i=t.target.find("#"+t.id),a=i.find(".vConfSub"),n=i.find(".vControls"),s=i.find(".confSub");if(!i.hasClass("controlsFixed"))if(a.hasClass("show")||e){if(a.is(":visible")){if(a.removeClass("show").css({display:"none",opacity:0,visibility:"hidden"}),i.hasClass("controlsFixed"))return;n.css({display:"block",opacity:1,visibility:"visible"})}}else n.css({display:"none",opacity:0,visibility:"hidden"}),a.css({display:"block",opacity:1,visibility:"visible"}),s.addClass("show")},this.updatePlayerByOptions=function(e){e?t.target.find(".vPlayer").addClass("controlsFixed"):t.target.find(".vPlayer").removeClass("controlsFixed")},this.initSlider=function(){var e={orientation:"vertical",start:function(){t.front.controls.enableSlider()},slide:function(e,i){t.core.setVolume(i.value/100)},stop:function(){t.front.controls.disableSlider()}},i={start:function(){t.core.pause()},slide:function(e,i){t.front.controls.setProgressbar({total:i.value})},stop:function(e,i){t.core.setProgressbar(i.value/100),t.core.play()}},a={max:80,value:40,create:function(){t.target.find(".contentTimeSub .ui-slider-handle").attr("data-time",0)},slide:function(e,i){var a=(i.value+1-41)/4;t.target.find(".contentTimeSub .ui-slider-handle").attr("data-time",a)}};t.target.find(".volumeBar").slider(e).end().find(".seekBar").slider(i).end().find(".contentTimeSub").slider(a)},this.updateCanvas=function(e){if(e){var i=t.target.find("#"+t.id),a=i.width(),n=i.height(),s=i.find(".blur:first"),o=$(s).data("blur");CanvasImage=function(t,e){this.image=e,this.element=t,t.width=a,t.height=n,this.context=t.getContext("2d"),this.context.drawImage(e,0,0,a,n)},CanvasImage.prototype={blur:function(t){this.context.globalAlpha=.5;for(var e=-t;e<=t;e+=5)for(var i=-t;i<=t;i+=5)this.context.drawImage(this.element,i,e),i>=0&&e>=0&&this.context.drawImage(this.element,-(i-1),-(e-1))}};var l=new Image;l.onload=function(){new CanvasImage(s[0],this).blur(o)},l.src=e}},this.updateContentPlayer=function(e){if("youtube"==e){var i=(a=t.target.find("#"+t.id)).find(".vContentPlayer");!i.hasClass("small")&&a.hasClass("controlsFixed")&&i.addClass("small").css({height:"150px",width:"200px",opacity:"1",bottom:"0",right:"0"})}else if(i&&i.hasClass("small")){var a;(a=t.target.find("#"+t.id)).hasClass("controlsFixed"),a.find(".vContentPlayer").removeClass("small").removeAttr("style")}};var i=function(){var e=t.target.find(".containerSearch");t.modules.lazyInstance(e[0]).load([e.find(".imgSource[data-img]")],function(t){if(!(t=$(t)).attr("data-img"))return!1;t.append('<img class="'+("default"!=t.attr("data-img")?"":"imgDefault")+'" src="'+("default"!=t.attr("data-img")?t.attr("data-img"):"")+'"/>').removeAttr("data-img")})},a=function(e,i){t.transition.effects.contentSearch(e,i,"beforeIn")};this.playlistHover={timeout:null,elem:function(){return this.elem.dom=this.elem.dom?this.elem.dom:t.target.find(".containerPlaylist"),this.elem.dom},setTimeout:function(){var t=this.elem();t.addClass("move"),clearTimeout(this.timeout),this.timeout=setTimeout(function(){t.removeClass("move")},5e3)}},this.errors={searchError:function(e){var i=t.target.find(".containerSearch"),a=e.service,n=i.find('[data-service="'+a+'"]'),s=t.target.find("#"+t.id).find(".vSearch"),o='<li class="searchError"><img src="/img/vplayer/webResult.png" alt="">';"vagalume"==e.service?o+="<p>O MP3 dessa m&uacute;sica n&atilde;o foi enviado pelo artista</p><p>J&aacute; procurou em outra op&ccedil;&atilde;o ali em cima?</p>":o+='<p data-service="'+e.service+'">Ops! Nenhum resultado no </p><p>Tente trocar o texto da busca!</p>',o+="</li>",s.removeClass("downItem"),i.find("ul[data-service]").removeClass("moreList").attr("data-offset",0);var l=t.modules.transition();s.find(".inputSearch .loading").remove(),n.removeAttr("style").html(o),l.end()}},this.resetNotifyVideo=function(){t.target.find(".notifyVideo").html("")},this.resetContainers=function(){var e=t.target.find(".vSearch"),i=(t.transition.effects,e.find(".containerSearch > ul")),a=t.target.find(".vOtherSubtitles"),n=t.modules.getObjSong(),s=e.find(".vTabChoice"),o=t.target.find(".listOtherSub");s.find(".active").removeClass("active"),e.find(".containerSearch > ul.active").removeClass(".active"),i.closest(".vSearch").hasClass("active")?(s.find('ul > li[data-service="'+n.service+'"]').addClass("active"),e.find('.containerSearch > ul[data-service="'+n.service+'"]').addClass("active")):i.html('<div class=loadingVgl><img src="/img/vplayer/vgl-spinner_branco.svg"></div>'),o.html('<div class=loadingVgl><img src="/img/vplayer/vgl-spinner_branco.svg"></div>'),a.hasClass("active")&&t.modules.transition()},this.insertListOtherSub=function(e){var i="",a=t.target.find(".containerSubtitles"),n=t.subtitle.SubtitleArray();n=n.subtitle.subtitles[0].sID;for(var s=0,o=e.langs.length;s<o;s++){var l=e.langs[s],r=!1;e.subtitles[0].lID==l.langID&&(langSelected=l.langAbbr.toLowerCase(),r=!0),i+="<option data-langid="+l.langID+" "+(r?" selected ":"")+"value="+l.langAbbr.toLowerCase()+">"+l.langDesc+"</option>"}if(a.find(".vSel .selectFieldLarge").html(i),i="",e.subtitles[0]&&"queryEmpty"!=e.subtitles[1])for(var d=0,c=e.subtitles.length;d<c;d++)if((l=e.subtitles[d]).userData){if(l.userData.photo)var u=""+l.userData.photo;else u="/images/my/"+("female"==l.userData.gender?"no_photo_girl.jpg":"no_photo_boy.jpg");i+='<li class="'+(n==l.sID?"selected":"")+'" data-id="'+l.sID+'"><div class=fig><img width=50 height=50 src="'+u+'"/></div><div class=desc><p>'+l.userData.name+"</p><p>"+l.vt_count+" "+(1==l.vt_count?"voto":"votos")+"</p></div></li>"}a.find(".listOtherSub").html(i);var f=a.find(".listOtherSub > li");f.length&&f.is(":visible")&&f.css({visibility:"visible",opacity:1})},this.controls={elem:function(){return this.elem.dom=this.elem.dom?this.elem.dom:t.target.find(".vControls"),this.elem.dom},elemContentProgress:function(){return this.elemContentProgress.dom=this.elemContentProgress.dom?this.elemContentProgress.dom:t.target.find(".vContentProgress"),this.elemContentProgress.dom},elemProgress:function(){return this.elemProgress.dom=this.elemProgress.dom?this.elemProgress.dom:this.elemContentProgress().find(".playBar"),this.elemProgress.dom},elemCurrentTime:function(){return this.elemCurrentTime.dom=this.elemCurrentTime.dom?this.elemCurrentTime.dom:this.elemContentProgress().find(".currentTime"),this.elemCurrentTime.dom},elemBuffering:function(){return this.elemBuffering.dom=this.elemBuffering.dom?this.elemBuffering.dom:this.elemContentProgress().find(".buffering"),this.elemBuffering.dom},setProgressbar:function(t){var e=t.total||0==t.total?t.total:t.time/t.duration*100;vgl.write(()=>{this.elemProgress().css("width",e+"%")})},setCurrentTime:function(e){e=t.modules.convertTime(e,"seconds"),vgl.write(()=>{this.elemCurrentTime().text(e)})},setTitleTime:function(e){var i="",a=t.modules.getObjSong(),n=a.title+" - "+a.band;e?(e=t.modules.convertTime(e,"seconds"),i=t.core.isPlaying()?"▶ "+e+" · "+n:e+" · "+n):i=n,document.title=i},setDuration:function(e){e=t.modules.convertTime(e,"seconds"),t.target.find(".vContentProgress .duration").text("/ "+e)},playing:function(e){t.target.find(".vContentProgress").find(".play")[e?"addClass":"removeClass"]("pause")},setElemPlaying:function(){var e=t.target.find(".containerPlaylist"),i=t.defaults.currentSong,a=e.find(".itemPlaylist:eq("+i+")");a.hasClass("playing")||(e.find(".playing").find(".imgContainer").removeClass("imgPlaying imgPause").end().removeClass("playing"),a.addClass("playing"))},updateIconChangeAudio:function(){var e=t.target.find(".changeAudio"),i=t.modules.getCurrentService();e.attr("data-service",i)},updateIconPlaylist:function(){return!0},setVisibleItemPlaying:function(){var e=t.defaults.currentSong,i=t.target.find(".containerPlaylist"),a=i.find(".itemPlaylist:eq("+e+")");if(i.find(".opened"),a.length){var n=a.offset().top-i.offset().top+i.scrollTop();i.scrollTop(n)}},updatePlaylist:function(){var e=t.target.find(".vPlaylist");e.replaceWith(s.playlist()),e.hasClass("active")&&t.transition.effects.playlistIn(function(){t.modules.transition().end(),t.front.controls.setVisibleItemPlaying()},!1)},scrollPlaylistItem:function(e){var i=t.defaults.currentSong,a=t.target.find(".containerPlaylist"),n=a.find(".itemPlaylist:eq("+i+")"),s=n.position().top+51;if(a.find(".opened"),!a.is(":hover")||e){var o=n.offset().top-a.offset().top+a.scrollTop();s>a.height()?a.scrollTop(o-255):n.position().top<0&&a.scrollTop(o)}},setBuffering:function(t){this.elemBuffering().css("width",t+"%")},setVolume:function(t){var e,i=this.elemContentProgress().find(".volume");this.elemContentProgress().find(".volumeValue").css("height",t+"%"),i.attr("data-volume","icon-"+(e="volumeFull_1",t>60?e="volumeFull":t>30?e="volumeMid":t&&(e="volumeLow"),e))},enableSlider:function(){this.elemContentProgress().find(".volume").addClass("slider")},disableSlider:function(){this.elemContentProgress().find(".volume").removeClass("slider")},muteOrFull:function(){var e=this.elem().find(".volumeValue"),i=t.core.getVolume();if(0!=i)e.attr("data-lastvol",i),t.core.setVolume(0);else{var a=e.attr("data-lastvol");t.core.setVolume(a||1)}},resetValuesPlayer:function(){this.setProgressbar({total:0}),this.setBuffering(0),this.setCurrentTime(0),this.setDuration(0),t.front.controlsSub.resetSubtitle()},firstSearch:function(e){var i=t.target.find(".changeAudio"),a=t.target.find("#"+t.id),n=t.modules.getObjSong(),s=a.find(".vContent").attr("data-pointerid"),o=n.pointerID;n=n.band+" - "+n.title,i.hasClass("done")||"remove"===e?"remove"==e&&s!==o&&i.removeClass("done"):(a.find(".inputSearch input").val(n).attr("data-oldvalue",n),i.addClass("done"),"function"==typeof e&&e())},startRedirect:function(){var e=new t.modules.objRedirect,i=20,a=t.target.find("#"+t.id),n=a.find(".timeNextPage");if(n.length){function s(t){i=-1,clearInterval(e.timeout),$(window).off("histGo histPop histRequest",s)}e.timeout=setInterval(function(){if(a.find(".timeNextPage").length)if(i>0)i--,n.css({display:"block",opacity:1,visibility:"visible"}).text(i);else if(0==i){s();var t=n.closest("a").attr("href");t&&(location.href=t)}i<0&&s()},1e3),$(window).one("histGo histPop histRequest",s)}},setLabelEndedPlaylist:function(){var e=function(){var e=t.target.find("#"+t.id).find(".vLabelEndPlaylist"),i=(e.find(".timeNextPage"),s.relatedStations());e.addClass("active").css({opacity:1,display:"block"}).find(".relatedStatons ul").html(i),t.front.controls.startRedirect(),t.front.updatePlayerByOptions(!0),vgl.plugin.render()};t.front.render({action:"returnToVideo",callback:function(){t.transition.effects.controlsOut(e)}})},hideLabelEndedPlaylist:function(e){var i=t.target.find("#"+t.id).find(".vLabelEndPlaylist");i.css({display:"none",opacity:0}).find(".relatedStatons ul").html(""),e||t.transition.effects.controlsIn(function(){t.modules.transition().end(),t.defaults.currentSong=0,t.core.loadAndPlay(),i.removeClass("active")})},updateNextPrev:function(){var e=t.target.find(".vContentProgress .prev");0==t.defaults.currentSong?e.addClass("off"):e.removeClass("off"),e=t.target.find(".vContentProgress .next"),t.defaults.currentSong==t.defaults.currentPlaylist.length-1?e.addClass("off"):e.removeClass("off")}},this.loading={videoBuffering:function(e){var i=t.modules.getCurrentFormatService(),a=t.target.find(".loadingBuffering");if(e){if(a.length)return;t.target.find(".vContentPlayer div[data-typeservice="+i+"]").append('<span class="loadingBuffering vico" data-icon=F><i class=vico data-icon=!></i></span>'),(a=t.target.find(".loadingBuffering")).css({display:"block",opacity:1,visibility:"visible"})}else a.remove()},start:function(e,i){var a,n;t.modules.getCurrentFormatService(),(a=t.target.find(".vPlaylist")).find(".itemPlaylist .imgContainer.imgPlaying, .itemPlaylist .imgContainer.imgPause, .itemPlaylist .imgContainer.imgLoading").removeClass("imgPlaying imgPause imgLoading").find(".loadingVgl").remove().end().parent().removeClass("playing loading"),a.find(".itemPlaylist:eq("+(e.position-1)+")").addClass("loading").find(".imgContainer").addClass("imgLoading").prepend('<div class=loadingVgl><img src="/img/vplayer/vplayer-spinner-branco.svg"></div>'),(n=t.target.find(".vSearch")).find(".itemSearch .imgLoading").removeClass("imgLoading").end().find(".itemSearch.loading").removeClass("loading").end().find(".loadingVgl").remove(),n.find(".itemPlaylist").addClass("loading").find(".imgContainer").addClass("imgLoading").prepend('<div class=loadingVgl><img src="/img/vplayer/vplayer-spinner-branco.svg"></div>'),e.itemSearch&&(n.find(".containerSearch").find(".playing .imgSource").removeClass("imgPause imgPlaying").closest(".itemSearch").removeClass("playing"),e.itemSearch.addClass("loading").find(".imgSource").addClass("imgLoading").prepend('<div class=loadingVgl><img src="/img/vplayer/vplayer-spinner-branco.svg"></div>'))},stop:function(e){var i;(i=t.target.find(".vSearch")).find(".itemPlaylist").removeClass("loading").find(".imgContainer").removeClass("imgLoading").find(".loadingVgl").remove(),i.find('.containerSearch ul[data-service="'+t.modules.getCurrentService()+'"] .playing').removeClass("loading").find(".imgSource").removeClass("imgLoading").find(".loadingVgl").remove().end().end().parent().siblings().find(".playing,.loading").removeClass("playing loading"),t.target.find(".vPlaylist").find(".loading").removeClass("loading").find(".imgContainer").removeClass("imgLoading").find(".loadingVgl").remove(),t.target.find(".vSearch").find(".itemSearch").removeClass("loading").find(".imgSource").removeClass("imgLoading").find(".loadingVgl").remove()}},this.controlsSub={elem:function(){return t.target.find(".vSubtitle")},elemOffset:function(){return this.elemOffset.dom=this.elemOffset.dom?this.elemOffset.dom:t.target.find(".contentTimeSub .ui-slider-handle"),this.elemOffset.dom},elemConfigContainer:function(){return this.elemConfigContainer.dom=this.elemConfigContainer.dom?this.elemConfigContainer.dom:t.target.find(".vConfigContainer"),this.elemConfigContainer.dom},setText:function(e){var i=this.elem().find(".textSub"),a=i.find(".original").text(),n=i.data("position"),s=function(t,e,i,a){var s=1e3*(i-e),l=s/$(t).map(function(){return $(this).text()}).get().join(" ").length,r=0,d=0,c=!1,u=1e3*(a-e);s=0,u<250&&(u=0);for(var f=0,g=t.length-1;f<=g;f++)r=$(t[f]).text().length,f<g&&++r,r*=l,void 0!==(d=$(t[f]).data("data-remaining"))&&(r=d,c=!0),c?s+=.75*r:(s+=r,u&&u>s?r=0:r*=.75),t[f]={word:f,time:r,elem:t[f]};void 0!==n&&t.splice(0,n),o(t)},o=function(e){if(e.length>0){var a=e.shift();i.removeData("position"),$(a.elem).animate({width:"100%"},{duration:a.time,easing:"linear",queue:!1,progress:function(e,n,s){t.core.isPlaying()||($(a.elem).stop().data("remaining",s),i.data("position",a.word))},complete:function(){t.core.isPlaying()&&o(e)}})}},l=jQuery.fn.jqueryVagalumeVersion;switch(l||(l=jQuery.fn.jquery.split("."),jQuery.fn.jqueryVagalumeVersion=l),typeof e){case"string":i.html(e);break;case"object":l[0]<1||l[0]<2&&l[1]<8?i.html(e[0]):void 0!==n?(i.removeData("position"),s(i.find(".colorText").toArray(),e[1],e[2],e[3])):a!=e[0]&&(i.html(function(t){for(var e=t.split(" "),i="<span class=original>"+t+"</span>",a=0,n=e.length;a<n;a++)i+="<span><span class=colorText>"+e[a]+"</span>"+e[a]+"</span>&nbsp;";return i}(e[0])),s(i.find(".colorText").toArray(),e[1],e[2],e[3]))}},setLang:function(e){s.subLang(e);var i=this.elemConfigContainer().find(".langPort"),a=this.elemConfigContainer().find(".langOther");if(t.modules.getObjByLangID(e.langs,e.subtitles[0].lID).langAbbr.toLowerCase(),t.modules.getOffSubByLocalStorage(),e.langs.length)for(var n=0,o=e.langs.length;n<o;n++){var l=e.langs[n],r=l.langAbbr.toLowerCase();l.langID==e.subtitles[0].lID?"bra"==r?i.attr("data-id",l.langID).removeClass("hide").addClass("active"):a.attr("data-lang",r).attr("data-id",l.langID).removeClass("hide").addClass("active"):"bra"==r?i.attr("data-id",l.langID).removeClass("hide").removeClass("active"):a.attr("data-lang",r).attr("data-id",l.langID).removeClass("hide").removeClass("active")}},resetSubtitle:function(){this.elemConfigContainer().find(".langPort,.langOther").removeAttr("data-id").removeAttr("data-lang").removeClass("active").addClass("hide")},setNameUser:function(e){var i=!!e&&e.subtitles[0],a=t.target.find(".vConfSub .subAuthor");i&&i.userData?a.html('Legenda de <a href="//meu.vagalume.com.br/'+i.userData.login+'/" target=_blank>'+i.userData.name+"</a>"):a.html("")},setOffset:function(e){this.elemOffset().attr("data-time",e);var i=4*e+40;t.target.find(".contentTimeSub").slider({value:i})},resetOffset:function(){this.elemOffset().attr("data-time",0).removeAttr("style")},getOffset:function(){return this.elemOffset().attr("data-time")||0},disableConf:function(){this.elemConfigContainer().find(".confSub, .labelSub").addClass("disabled").hide(0)},enableConf:function(){this.elemConfigContainer().find(".confSub, .labelSub").removeClass("disabled").show(0)},notifyVideo:function(e,i){var a=t.modules.getObjSong(),n=this.elem().find(".notifyVideo"),s="M&uacute;sica escolhida por voc&ecirc;",o=function(t){t||(t=""),n.css("display","block").html(t)};if(!a.videoArtist)if(n.removeClass("customSub"),e&&t.defaults.subtitle){if(!n.find(".subtitleNotify").length){var l=t.modules.MD5(i),r=n.html().indexOf(s)>-1,d=r?". ":"";d+='<span class=subtitleNotify data-source="'+l+'">',r&&(d+="."),o(d+="</span>"),n.addClass("customSub")}}else n.removeClass("customMusic"),t.modules.getSourceIndexedDByPointer(a.pointerID,function(t){if(t&&"object"==typeof t&&a.pointerID==t.pointerID)return o(s),void n.addClass("customMusic");o()})}},this.feedbackPlayer={elem:function(){return t.target.find(".vContentPlayer")},hidePlayer:function(){this.elem().find("[data-typeservice]").addClass("hide")},showPlayer:function(){var e=t.modules.getCurrentFormatService();"audio"!=e&&this.elem().find(".vAlbum .active").css({display:"none",opacity:0,visibility:"hidden"}),this.elem().find('> div[data-typeservice="'+e+'"]').removeClass("hide").end().attr("data-type",e)},updateTitleMusic:function(e){var i=s.music(),a=t.target.find("#"+t.id),n=a.find(".infoMusic"),o=t.modules.getObjSong();a.find(".vContent").attr("data-pointerid",o.videoArtist?"videoArtist":o.pointerID),n.html(i),"function"==typeof e&&e()}},this.scrollHiddenContainer=function(){var e=t.target.find("#"+t.id),i=e.find(".vSearch"),a=e.find(".vOtherSubtitles"),n=e.find(".vPlaylist");if(n.hasClass("active"))return t.front.controls.scrollPlaylistItem(),!1;if(i.hasClass("active")||a.hasClass("active")){n.find(".opened").css({height:"50px"}).removeClass("opened");var s=n.find(".itemPlaylist:eq("+t.defaults.currentSong+")"),o=n.find(".containerPlaylist"),l=s.offset().top-o.offset().top+o.scrollTop();s.css({height:"175px"}).addClass("opened"),s.scrollTop(l)}},this.returnPlaylist=function(){var e=t.modules.transition();e.status||(e.start(),t.front.render({action:"createPlaylist"}))},this.doTransitionPlaylistAndPlay=function(e){var i=t.modules.transition(),a=t.transition.effects,n=function(){t.modules.transition().end(),t.core.stop(),t.modules.isNextOrPrev(e),t.defaults.currentSong=e,t.front.loading.stop(),t.front.loading.start({position:e+1}),t.core.loadAndPlay()};i.status||(i.start(),a.playlistOut(function(){a.controlsIn(n)}),a.buttonBackOut())},this.doTransitionSearchContent=function(e){if(!e)return!1;var i=t.transition.effects,a=t.target.find("#"+t.id).find(".containerSearch > ul").filter('[data-service="'+e+'"]'),n=t.modules.transition();n.status||(n.start(),a.length?i.contentSearch(e,function(e){t.modules.transition().end()}):(t.front.render({action:"listSearch",data:{service:e,loading:!0}}),i.contentSearch(e,function(e){t.modules.transition().end()},"emptyLoading"),t.modules.callList({service:e}),n.end()))},this.doTransitionSearchAndPlay=function(e){var i=t.modules.transition(),a=t.transition.effects,n=function(){t.modules.transition().end(),t.core.updateAndPlay({id:e,userForce:!0})};i.status?n():(i.start(),a.searchOut(function(){a.controlsIn(n)}))},this.openLoginModal=function(t,e){vagalume.popup.show({pageOffset:!0,box:"popupLogin",title:"Login Vagalume",width:900,height:400,top:parseInt(($(window).height()-360)/2,10),content:'<iframe class=login scrolling=no height=346 frameborder=0 width=800 src="//auth.vagalume.com.br/login/?action=login&w=800"></iframe>'})},this.offSub=function(){var e=t.target.find("#"+t.id),i=e.find(".vSubtitle"),a=e.find(".vControls .offSub"),n=0;i.hasClass("off")?(i.removeClass("off"),i.parent().removeClass("off-subtitle"),a.addClass("hide")):(i.addClass("off"),i.parent().addClass("off-subtitle"),n=1,a.removeClass("hide")),t.modules.setOffSubByLocalStorage(n)},this.changeLang=function(e){var i=$(e),a=(e=i.attr("data-lang"),i.attr("data-id")),n=i.is(".langPort")?".langOther":".langPort";i.addClass("active").parent().find(n).removeClass("active"),t.modules.getObjSong().subID=null,t.modules.getObjSong().langID=a,$("#"+t.id).trigger("init.subtitle")},this.imgPlaylistActions={setPlaying:function(){t.target.find(".itemPlaylist.playing").find(".imgContainer").removeClass("imgPause").addClass("imgPlaying")},setPause:function(){t.target.find(".itemPlaylist.playing").find(".imgPlaying").removeClass("imgPlaying").addClass("imgPause")}},this.source={playCurrentSong:function(){var e=t.target.find(".containerSearch"),i=t.modules.getObjSong(),a=t.modules.MD5(i.source);e.find('[data-service="'+i.service+'"]').find('li[data-id="'+a+'"]').removeClass("loading").addClass("playing").find(".imgSource").removeClass("imgPause").addClass("imgPlaying")},stopCurrentSong:function(){var e=t.target.find(".containerSearch"),i=t.modules.getObjSong();t.modules.MD5(i.source),e.find('[data-service="'+i.service+'"]').find(".imgPlaying").removeClass("imgPlaying").addClass("imgPause")},putVideoToTop:function(){var e=t.target.find(".containerSearch"),i=t.modules.getObjSong(),a=t.modules.MD5(i.source),n=e.height()/$("li.itemSearch").height(),s=e.find('[data-service="'+i.service+'"] li[data-id="'+a+'"]');if(Math.floor(n)<=s.index()){var o=$('ul[data-service="youtube"]').find('li[data-id="'+a+'"]').detach();$('ul[data-service="youtube"]').prepend(o)}}},this.doTransitionConfigPlayer=function(e){var i=t.transition.effects,a=t.modules.transition();a.status||(a.start(),"revert"==e?i.configPlayerIn(function(e){t.modules.transition().end()}):i.configPlayerOut(function(e){t.modules.transition().end()}))},this.callChangeAudio=function(i){var a=$("[data-typeid]");a&&a[0]&&(a=a[0].getAttribute("data-typeid"))&&(t.front.suggestedVideos=JSON.parse(a));var n,s=t.target.find(".containerPlaylist"),o=(s.find(".opened"),t.modules.getObjSong()),l=i,r=t.target.find(".vPlayer").find(".vLabelEndPlaylist");l.hasClass("itemPlaylist")||(l=s.find(".itemPlaylist.playing")),r.is(":visible")&&t.front.controls.hideLabelEndedPlaylist(!0),(n=t.modules.transition()).status||(i.is(".changeAudio")&&i.hasClass("done"),n.start(),t.front.render({action:"changeAudio"}),t&&t.core&&(e?(t.core.play(),e=!1):(t.core.pause(),e=!0)),t.front.changeListItem(o,t.target.find(".vSearch")),i.is(".changeAudio")&&$("#"+t.id).trigger("doSearch.core"))},this.callListPlaylist=function(e,i){t.target.find(".containerPlaylist"),t.modules.getObjSong(),function(){t.target.find("#"+t.id);var e=t.modules.transition();e.status||(e.start(),t.front.render({action:"listPlaylist"}))}()},this.callChangeSub=function(i,a){var n=t.target.find(".containerPlaylist"),s=t.modules.getObjSong(),o=(n.find(".opened"),n.find(".itemPlaylist.playing"),function(){t.target.find("#"+t.id);var e=t.modules.transition();if(e.status||(i.is(".changeSub"),e.start(),t.front.changeListItem(s,t.target.find(".vOtherSubtitles")),t.front.render({action:"otherSubtitles"})),$(a).is(".changeSub")||$(a).closest(".changeSub")){var n=t.modules.getObjSong(),o=t.target.find(".langPort"),l=t.target.find(".langOther");n.langID=o.hasClass("active")?o.attr("data-id"):l.attr("data-id"),t.subtitle.searchMoreLang(n)}});if(t&&t.core&&!e&&(t.core.pause(),e=!0),t.target.find(".vOtherSubtitles").hasClass("active"))return!1;o()},this.changeListItem=function(e,i){var a=$(i).find(".itemPlaylist"),n=t.defaults.discography,s=a.find(".itemInfo"),o=a.find(".imgContainer");if(o.removeClass("imgPlaying imgPause"),e.position=n?t.modules.getSongPosition():t.defaults.currentSong+1,s.removeClass("big bigger"),e.position>=10&&e.position<100&&0==t.defaults.discography?s.addClass("big"):e.position>=100&&s.addClass("bigger"),t.core.isPlaying()?o.addClass("imgPlaying"):o.addClass("imgPause"),n)if(e.albumCover)o.find("img").attr("src","/"+e.albumCover);else{if(e.separator.imageAlbum)var l=t.target.find(".containerPlaylist > ul > li:nth-child("+(t.defaults.currentSong+1)+")").find(".playlistAlbumInfo img").attr("src").replace("/wd+.jpg/i","W50.jpg");else l=t.target.find(".containerPlaylist > ul > li:nth-child("+(t.defaults.currentSong+1)+")").prevAll(".itemDiscography:first").find(".playlistAlbumInfo img").attr("src").replace("/wd+.jpg/i","W50.jpg");l?o.find("img").attr("src",l).removeClass("imgDefault"):o.find("img").attr("src","").addClass("imgDefault")}else e.albumCover?o.find(".imgPlaylist").attr("src","/"+e.albumCover):o.find(".imgPlaylist").attr("src","").addClass("imgDefault");a.attr("data-pointerid",e.pointerID).find(".music").html(e.title).end().find(".artist").html(e.band).end(),s.attr("data-counter",e.position)};var n,s={container:function(){var e="default"!=t.defaults.type?t.defaults.type:"",i=t.modules.getObjSong();return(t.defaults.closeButton?'<div class="vClosePlayer vico" data-icon="x"></div>':"")+'<div id="'+t.id+'" class="vPlayer '+e+" "+t.defaults.type+'" style="'+t.front.style()+'"><div class=vNotifyPlayer></div><div class=vProfile></div><div class=vMask></div><div class="vContent '+(t.modules.getOffSubByLocalStorage()?"off-subtitle":"")+'" data-pointerid="'+i.pointerID+'"><div class=vContentPlayer></div>'+("mobile"!=t.defaults.type?s.progress():"")+s.subtitle()+s.confSubtitle()+s.controls()+"</div>"+s.playlist()+s.search()+s.otherSubtitles()+s.labelEndPlaylist()},player:function(){var e="";return"youtube"==t.modules.getCurrentFormatService()&&(e=s.youtube()),e},subtitle:function(){return'<div class="vSubtitle'+(t.modules.getOffSubByLocalStorage()?" off":"")+'"><div class=textSub></div><span class=notifyVideo></span></div>'},otherSubtitles:function(e){return t.modules.getListServices(),'<div class=vOtherSubtitles><div class="containerSubtitles"><div class="sideWrapper vSel"><span class="back icon-arrowLeft" data-back=subtitle>Trocar legenda</span><select class="selectFieldLarge selectDark h16"></select><i data-lang=""></i></div><ul class="listOtherSub scroll"></ul></div></div>'},confSubtitle:function(){var e=t.modules.getOffSubByLocalStorage();return'<div class=vConfSub><ul><li class="offSub icon-onOffLegenda vico'+(e?"":" active")+'" title="'+(e?"Ligar":"Desligar")+' legenda"><span>'+(e?"Ligar":"Desligar")+'</span></li><li class="changeSub icon-trocarLegenda vico" title="Trocar legenda"><span>Trocar</span></li><li class="reportSub icon-sinalizar vico" title="Denunciar Legenda"><span>Denunciar</span></li><li class="editSub icon-edit vico" title="Editar legenda"><span>Editar</span></li><li class="newSub icon-add vico" title="Criar legenda"><span>Criar nova</span></li><li class=subAuthor></li><li class="close icon-close vico" title="Voltar"></li></ul></div>'},playlist:function(){return'<div class="vPlaylist'+(t.defaults.currentPlaylist.length>6?" downItem":"")+'"><span class="back icon-arrowLeft" data-back=playlist>Lista de reprodução</span><div class="containerPlaylist scroll"><ul>'+function(){for(var e="",i=t.defaults.currentPlaylist,a=0;a<i.length;a++)i[a].separator&&i[a].separator.imageAlbum,i[a].separator&&i[a].separator.restartCount,e+='<li class="itemPlaylist" '+(i[a].pointerID?'data-pointerid="'+i[a].pointerID+'"':"")+"><span class=music>"+i[a].title+"</span><span class=artist>"+i[a].band+"</span></li>";return e}()+"</ul></div></div>"},search:function(){return t.modules.getListServices(),'<div class="vSearch'+(t.defaults.currentPlaylist.length>6?" downItem":"")+'"><div class="inputSearch vico icon-search"><span class="back icon-arrowLeft" data-back=search></span><input><button class=icon-busca></button></div><div class="containerSearch scroll"></div><span class=dmca><a href="/terms/" target=_blank>Leia os termos de uso do Vagalume e Youtube</a> &raquo;</span></div>'},searchContent:function(e){var i="",a=e.data;return function(e,a){switch(e){case"youtube":for(var n in a.content)if(a.content.hasOwnProperty(n)){var s=a.content[n],o="//i1.ytimg.com/vi/"+s.url+"/default.jpg",l=t.modules.timeDifference(new Date,new Date(s.extra.snippet.publishedAt));i+='<li class=itemSearch style="visibility: visible;" data-id="'+n+'"><div class=mainInfo><div class="imgSource icon-vagaPlay vico" data-img="'+o+'"></div><span class=artist>'+t.modules.htmlEntities(s.userName)+"</span><span class=music>"+t.modules.htmlEntities(s.title,"ENT_NOQUOTES")+'</span><span class="moreInfo vico" data-icon=")"></span></div><span class=moreInfoBack><div class="imgSource vico" data-img="'+o+'"></div><div class="published">'+l+'</div><span class="moreInfoToMain vico" data-icon="D"></span></span></li>'}}return i}(!!a&&a.service,a)},controls:function(){return'<div class=vControls><ul class=vConfigContainer><li class="listPlaylist vico icon-playlist'+(t.defaults.playlistOn?"":" hide")+'"><span class=icon-arrowDown></span>'+("mobile"==t.defaults.type?"":"<div class=button-label>Lista de reprodução</div>")+'</li><li class="changeAudio icon-youtube vico" data-service=youtube><span class=icon-arrowDown></span>'+("mobile"==t.defaults.type?"":"<div class=button-label>Trocar vídeo</div>")+'</li><li class="offSub vico'+(t.modules.getOffSubByLocalStorage()?"":" hide")+'" title="Ligar legenda" data-icon=@></li><li class="langOther lang hide"></li><li class="langPort lang hide"></li><li class="labelSub">Legenda</li><li class="confSub icon-configs vico disabled"></li></ul></div>'},music:function(){var e=t.modules.getObjSong();return'<h3 data-default="'+e.title+'">'+e.title+'</h3><h5 data-default="'+e.band+'">'+e.band+"</h5>"},youtube:function(){return"<div class=vContentYoutube data-typeservice=youtube><div id=playerYoutube_"+t.id+"></div></div>"},progress:function(){var e,i,a=function(){return 100*t.modules.getVolumeByLocalStorage()};return'<div class="vContentProgress'+(t.defaults.playlistOn?" playlistOn ":"")+'"><ul><li class="prev '+(t.defaults.playlistOn?"":" hide")+' vico icon-backward"></li><li class="play icon-vagaPlay vico"></li><li class="next '+(t.defaults.playlistOn?"":" hide")+' vico icon-forward"></li><li class=progress><span class=seekBar><span class=playBar><div class=handler></div></span><span class=buffering></span></span></li><div class=timeHolder><span class=currentTime>0:00</span><span class=duration>/ 0:00</span></div><li class="volume balloonPlayer icon-'+(e=a(),i="volumeFull_1",e>60?i="volumeFull":e>30?i="volumeMid":e&&(i="volumeLow"),i)+'"><div class="volumeBar"><div class=volumeValue style="height:'+a()+'%"><span class=handlerVol></span></div></div></li>'+("mobile"==t.defaults.type?"":'<li class="screen '+(t.defaults.lockSize?"locked":"")+" "+("default"==t.defaults.type?"icon-modoTeatro":"icon-visualizacaoPadrao")+' vico"></li>')+"</ul></div>"},subLang:function(t){var e="";if(!t||t&&!t.langs)return e;if(t.langs.length>1){e="<ul class=contentLang>";for(var i=0,a=t.langs.length;i<a;i++){var n=t.langs[i];n.langID!=t.subtitles[0].lID&&(e+='<li data-lang="'+n.langAbbr.toLowerCase()+'" data-id="'+n.langID+'">'+n.langDesc+"</li>")}e+="</ul>"}return e},relatedStations:function(){var e="",i=t.modules.getStations();if(i.length)for(var a=0;a<i.length;a++){var n=i[a];e+='<li><a href="'+n.url+'"><picture class="square'+(0==a?" bgDark":"")+'" style="background-image: url('+n.img+');"></picture>'+(0==a?"<p class=timeNextPage>20</p>":"<button class=vagaPlay></button>")+"</a></li>"}return e},labelEndPlaylist:function(){return'<div class=vLabelEndPlaylist><span class="playAgain icon-repeatVideo" data-icon=v>Repetir</span><div class="relatedStatons"><span class=icon-estacao>Ouça estações relacionadas a <b>'+t.modules.getObjSong().band+'</b> no <b>Vagalume.FM</b></span><div class="station-slider" data-plugin="itemScroll"><ul class=fmImgList></ul></div></div></div>'}};this.setEvents=function(){var i=$("#"+t.id);$("body").on("click.disabled",function(e){var i=$(e.target);i.closest(".vPlayer").length||(t.target.find(".captcha").remove(),$(document).off(".playerKeyEvents")),i.is(".embedVagalume, .embedVagalume *")||t.target.find(".embedVagalume").removeClass("hover")}),this.setKeyEvents=function(){$(document).off(".playerKeyEvents").on("keypress.playerKeyEvents",function(e){var i=t.target.find(".containerPlaylist .keyHover");switch(e.which){case 32:return $("input:focus").length?" ":i.length?i.hasClass("playing")?(t.core.isPlaying()?t.core.pause():t.core.play(),!1):(i.click(),i.removeClass("keyHover"),!1):(t.core.isPlaying()?t.core.pause():t.core.play(),!1)}}).on("keydown.playerKeyEvents",function(e){var i=function(e){var i=t.target.find(".vPlaylist.active .containerPlaylist:not(:hover)"),a=i.find("li");if(i.length){var n=i.find("li.keyHover");if(n.length){if("top"==e){if(!n.prev().length)return!1;n.prev().addClass("keyHover")}else if("bottom"==e){if(!n.next().length)return!1;n.next().addClass("keyHover")}n.removeClass("keyHover");var s=i,o=n.position().top+51,l=n.offset().top-s.offset().top+s.scrollTop();"top"==e?n.position().top<51&&s.scrollTop(l-50):"bottom"==e&&o>=s.height()&&s.scrollTop(l-227)}else{for(var r,d=0,c=a.length;d<=c;d++)if($(a[d]).position().top,$(a[d]).position().top>0){r=$(a[d]);break}r.addClass("keyHover")}return!1}};switch(e.which){case 38:i("top");break;case 40:i("bottom");break;case 27:var a=t.target.find(".containerPlaylist .keyHover");a.length&&a.removeClass("keyHover")}})},$(document).on("browserVisibilityChange",function(e,i){i||(new t.subtitle.SubtitleArray).subtitle||t.subtitle.initSubtitle()});var a=i.find(".vPlaylist"),n=i.find(".vSearch"),s=-1,o=-1;i.find(".containerPlaylist.scroll").scroll(function(){var t=$(this),e=t.scrollTop();0==e?-1!=s&&(s=-1,a.removeClass("upItem")):e+t.height()==t[0].scrollHeight?1!=s&&(s=1,a.removeClass("downItem")):0!=s&&(a.addClass("upItem downItem"),s=0)}),i.find(".containerSearch.scroll").scroll(function(){var t=$(this),e=t.scrollTop();0==e?-1!=o&&(o=-1,n.removeClass("upItem")):e+t.height()==t[0].scrollHeight?1!=o&&(o=1,n.removeClass("downItem")):0!=o&&(n.addClass("upItem downItem"),o=0)}),i.on("click",function(){t.front.setKeyEvents()}).on("click",".play:not(.pause)",function(){t.core.play(),t.front.controls.setElemPlaying(),t.front.source.playCurrentSong()}).on("click",".pause",function(){t.core.pause(),t.front.source.stopCurrentSong()}).on("click",".vContentProgress .prev",function(e){0!=t.defaults.currentSong&&t.core.prev({}),t.front.controls.updateNextPrev()}).on("click",".vContentProgress .next",function(e){t.defaults.currentSong!=t.defaults.currentPlaylist.length-1&&t.core.next({}),t.front.controls.updateNextPrev()}).on("click",".itemSearch:not(.playing)",function(e){var i=$(this),a=i.data("id");i.parent().data("service"),t.modules.getObjSong(),t.front.loading.stop(),t.front.loading.start({itemSearch:$(this)}),t.front.doTransitionSearchAndPlay(a)}).on("click",".itemSearch.playing",function(e){var i=$(this).find(".imgSource");if(i.hasClass("imgLoading"))return!1;i.hasClass("imgPlaying")?t.core.pause():t.core.play()}).on("click",".itemPlaylist:not(.playing)",function(e){t.front.doTransitionPlaylistAndPlay($(this).index()),t.front.controls.scrollPlaylistItem(!0),t.front.resetContainers()}).on("click",".confSub:not(.disabled)",function(){t.front.confSubtitle()}).on("click",".close",function(){t.front.confSubtitle(!0)}).on("click",".reportSub",function(){t.subtitle.reportSubtitle(this)}).on("click",".offSub",function(){var e=$(this),i=e.closest(".vConfSub").length?e:t.target.find(".vConfSub .offSub"),a=$(i).children(":first"),n="";t.front.offSub(),i.toggleClass("active"),n=i.hasClass("active")?"Desligar":"Ligar",i.attr("title",n+" Legenda"),a.text(n)}).on("click",'.listPlaylist,.vPlaylist .back[data-back="playlist"],.vOtherSubtitles .back[data-back="subtitle"],.vSearch .itemPlaylist.playing, .vOtherSubtitles .itemPlaylist.playing, .changeAudio.active, .changeSub.active',function(i){var a=$(i.target);if(t&&t.core&&e&&(t.core.play(),e=!1),a.is('.vOtherSubtitles .back[data-back="subtitle"]')){var n=t.modules.transition();if(!n.status)return n.start(),t.front.render({action:"otherSubtitles"}),!1}if(a.is(".listPlaylist")||a.is('.vPlaylist .back[data-back="playlist"]'))return t.front.callListPlaylist($(this),i.target),!1}).on("click",".listPlaylist",function(){t.modules.removeNotify()}).on("click",'.changeSub, .vTabs .back[data-back="subtitles"]',function(e){return t.front.callChangeSub($(this),e.target),!1}).on("click",'.changeAudio:not(.back),.vSearch .back[data-back="search"],.vPlaylist .itemPlaylist.playing:not(.opened)',function(e){t.modules.removeNotify(),t.modules.getObjSong();var i=$(e.target);if(i.is(".changeAudio:not(.back):not(.active)"));else if(i.is(".itemPlaylist.playing"))return $("#"+t.id).trigger("doSearch.core"),void t.front.callChangeAudio($(this));return $("#"+t.id).trigger("doSearch.core"),t.front.callChangeAudio($(this)),!1}).on("click",".moreInfo",function(e){var i=t.modules.transition(),a=t.transition.effects,n=$(this).closest(".itemSearch"),s=t.target.find(".itemSearch .moreInfoBack.active");i.status||a.moreInfoIn(n,function(){s.length&&a.moreInfoOut(s.parent(),function(){s.removeClass("active")})}),n.find(".moreInfoBack").addClass("active");var o=n.find(".moreInfoBack .votes"),l=o.attr("data-vote");o.find("span:nth-child(-n+"+l+")").css("color","#FFF"),e.stopPropagation(),e.preventDefault()}).on("click",".moreInfoToMain",function(e){t.modules.transition();var i=t.transition.effects,a=$(this).closest(".itemSearch");i.moreInfoOut(a,function(){a.find(".moreInfoBack").removeClass("active")}),e.stopPropagation(),e.preventDefault()}).on("mousedown",".volume",function(e){$(e.target).is(".volume")&&t.front.controls.muteOrFull()}).on("click",".screen",function(e){t.defaults.lockSize||($(this).hasClass("icon-modoTeatro")?(t.front.render({action:"renderPlayer",type:"big"}),$(this).removeClass("icon-modoTeatro").addClass("icon-visualizacaoPadrao")):(t.front.render({action:"renderPlayer",type:"default"}),$(this).removeClass("icon-visualizacaoPadrao").addClass("icon-modoTeatro")))}).on("click",".langOther:not(.active),.langPort:not(.active)",function(){t.front.changeLang($(this))}).on("click",".newSub",function(){t.core.pause();var e=t.modules.getObjSong();window.open("//app2.vagalume.com.br/subtitle_sync.php?pointerID="+e.pointerID+("youtube"==e.service?"&videoID="+e.source:""),null,"scrollbars=1,height=700,width=1007,status=yes,toolbar=no,menubar=no,location=no")}).on("click",".editSub",function(){var e=t.modules.getObjSong(),i=new t.subtitle.SubtitleArray;if(i&&i.subtitle&&i.subtitle.subtitles.length){var a=i.subtitle.subtitles[0].sID;t.core.pause(),window.open("//app2.vagalume.com.br/subtitle_sync.php?pointerID="+e.pointerID+("youtube"==e.service?"&videoID="+e.source:"")+(a?"&subtitleID="+a:""),null,"scrollbars=1,height=700,width=1007,status=yes,toolbar=no,menubar=no,location=no")}}).on("mouseenter",function(){(new t.modules.timeoutTransitionToPlayer).setTime()}).on("mouseleave",function(){(new t.modules.timeoutTransitionToPlayer).resetTime()}).on("optionsCompleteIn.front",function(){t.front.updatePlayerByOptions(!0)}).on("optionsCompleteOut.front",function(){t.front.updatePlayerByOptions()}).on("showSearch.front",function(e,i){var a=t.transition.effects;t.target.find("#"+t.id).find(".vSearch").find('.vTabChoice li[data-service="'+i+'"].active').length&&a.contentSearch(i,function(){t.modules.transition().end()})}).on("changeMusicThenDoSearch.front",function(){var e=t.target.find("#"+t.id).find(".vSearch");t.transition.effects,t.target.find("#"+t.id).find(".vContent").attr("data-pointerid"),t.modules.getObjSong(),e.hasClass("active")&&$("#"+t.id).trigger("doSearch.core")}).on("focus blur",".inputSearch input",function(t){var e=$(this).parent();"focusin"==t.type?e.addClass("focus"):"focusout"==t.type&&e.removeClass("focus")}).on("click",".moreInfoBack a",function(t){t.stopPropagation()}).on("keyup",".inputSearch input",function(e){var i=$(this),a=i.val(),n=i.attr("data-oldvalue"),s=i.parent();if(a=$.trim(a),n&&n===a)return!1;if(13==e.which){var o={textFull:i.val()};o=$.extend({},o,t.modules.getObjSong()),$("#"+t.id).trigger("doSimpleSearch.core",[o]),i.attr("data-oldvalue",a),s.find(".loading").length||s.append('<span class="loading vico" data-icon=F></span>')}else 27==e.which&&i.blur()}).on("click",".inputSearch button",function(e){var i=$(this).parent().find("input"),a=i.val(),n=i.attr("data-oldvalue"),s=i.parent();if(a=$.trim(a),n&&n===a)return!1;var o={textFull:i.val()};o=$.extend({},o,t.modules.getObjSong()),$("#"+t.id).trigger("doSimpleSearch.core",[o]),i.attr("data-oldvalue",a),s.find(".loading").length||s.append('<span class="loading vico" data-icon=F></span>')}).on("click",".imgPause",function(e){return t.core.play(),t.front.source.playCurrentSong(),!1}).on("click",".imgPlaying",function(e){return t.core.pause(),t.front.source.stopCurrentSong(),!1}).on("click",".activeWithCaptcha",function(){var e=$(this).data("serial");t.core.getCaptcha({serial:e})}).on("click",".activeSub",function(){t.defaults.subtitle=!0,$("#"+t.id).trigger("init.subtitle")}).on("click",".playlistAlbumInfo a",function(t){window.open(this.href),t.stopPropagation(),t.preventDefault()}).on("click",".listOtherSub li",function(){var e=$(this),i=t.modules.getObjSong(),a=e.attr("data-id"),n=t.target.find(".langOther"),s=t.target.find(".langPort");e.addClass("selected").siblings().removeClass("selected"),t.modules.getObjSong().subID=a,i.langID=$(".containerSubtitles option:selected").attr("data-langid"),$("#"+t.id).trigger("init.subtitle"),n.hasClass("active")?n.removeClass("active"):s.removeClass("active");var o=t.modules.transition();o.status||(o.start(),t.front.render({action:"otherSubtitles"}))}).on("change",".containerSubtitles select",function(){var e=$(this).find("option:selected"),i=t.modules.getObjSong(),a={pointerID:i.pointerID,duration:i.duration,langID:e.attr("data-langid")};t.subtitle.searchMoreLang(a),$(".containerSubtitles .vSel i").attr("data-lang",e.val())}).on("click",".vLabelEndPlaylist .playAgain",function(){t.front.render({action:"returnToVideo"}),t.front.controls.hideLabelEndedPlaylist()}).on("click",".subtitleNotify > a.changeVideo",function(){var e=$(this).parent().attr("data-source");if(e){var i=$('.vSearch .containerSearch ul[data-service="'+t.modules.getObjSong().service+'"]');t.front.loading.start({itemSearch:i.find('li[data-id="'+t.modules.MD5(e)+'"]')}),t.core.updateAndPlay({id:e,userForce:!0})}}).on("mouseenter",".timeNextPage",function(){var t=$(this);t.parent().append("<button class=vagaPlay></button>").find(".bgDark").removeClass("bgDark"),t.remove()}).on("mouseenter",".balloonPlayer",function(){var e=new t.modules.timeoutBalloon,i=$(this);e.hover&&e.hover[0]!=i[0]&&e.clear(),(new t.modules.timeoutBalloon).hover=i,i.addClass("hover")}).on("mouseleave",".balloonPlayer",function(){var e=new t.modules.timeoutBalloon,i=$(this);e.timeout=setTimeout(function(){i.find("span:hover").length||(i.removeClass("hover"),e.hover=!1)},500)}).on("mouseenter",".containerPlaylist",function(){var t=$(this).find("li.keyHover");t.length&&t.removeClass("keyHover")})},this.isBrowserHidden=function(){return!(!document.visibilityState||"hidden"!=document.visibilityState)},n=Boolean(document.visibilityState)?"visibilitychange":"msvisibilitychange",document.addEventListener(n,function(){$(document).trigger("browserVisibilityChange",t.front.isBrowserHidden())})}}});
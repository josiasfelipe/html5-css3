({exec:function(e){return e.call(this),this}}).exec(function(){document.domain="vagalume.com.br";var e=!1,o={gender:"user_gender",login:"user_login",name:"user_name",name_show:"user_nameshow",user_photo:"user_photo",sessionID:"sessionID",sessionUser:"sessionUser"};vgl.user={get data(){if(!e){var i=Object.assign(function(){var e,i={};for(var n in o)(e=vgl.cookie.read(o[n]))&&(i[n]=e);return i.user_photo?i.photo="/dyncontent-dynimage_user/"+i.user_photo+".jpg":i.photo="/img/default/"+("female"==i.gender?"user-fem-default.jpg":"user-male-default.jpg"),(i.name||i.name_show)&&(i.nick=i.name_show||i.name),i}(),JSON.parse(localStorage.getItem("userProperties"))||{});i.sessionID&&i.sessionUser&&(e=i)}return e},get loadData(){var o=e&&e.sessionID;e=!1;var i=this.data;return i.sessionID!=o&&(e=i.sessionID?i:{}),e},check:function(){if(vgl.user.loadData.sessionID){try{window.userUpdate()}catch(e){}return vgl.user.data}return null},logoff:function(){var e=vgl.user.data;return e.sessionID&&e.sessionUser&&window.ajax({url:"//auth.vagalume.com.br/login/json.php?action=logoff&sessionID="+e.sessionID+"&sessionUser="+e.sessionUser+"&callback=?",success:function(e){for(var i in o)vgl.cookie.delete(o[i]);localStorage.removeItem("userProperties"),window.userLogoff()}}),this}}}).exec(function(){function e(e){return"#userMenu"+e}vgl.style(""+e(" {width: 320px; border-radius: 5px; max-width: 100vw; background-color: white;color: #000; box-shadow: 0 0 1px 0 #000; display:none;}")+e(':before { content: ""; width: 0;height: 0; position:absolute; right: 13px; top: -10px;border-left: 8px solid transparent;border-right: 8px solid transparent;border-bottom: 10px solid #CF0;}')+e(" a:before {width: 1.5ex; display:inline-block;margin-right: 10px;}")+e(" .user p {font-size: 1.5rem; font-weight: 500; white-space: nowrap; text-overflow: ellipsis; width: 51px; overflow: hidden;}")+"#logon.show #userMenu {display:block;}"+e(" a {color: #068; display:block; line-height: 2em; padding: 0 2ex;transition: color 0.2s ease;}")+e(" a:hover {color: #0AD;}")+e(" p {line-height: 2em;}")+e(" img {height: 50px; width: 50px; margin: 1em auto; border-radius: 50%;}")+e(" .blockCenter {display:flex; justify-content: flex-end;}")+e(" hr {margin: 0.8em 2ex;}")+e(" .user {background-color: #CF0; text-align:center;}")+e(" .itens {padding: 1em 0; background-color: #FFF;}")+"@media (max-width: 1024.5px) {"+e(" {position: fixed; left:0; width: 100vw; bottom:0; top: 40px; overflow-y: auto;}")+e(" img {margin-bottom: 0; width: 60px; height: 60px;}")+e(" a {font-size: 1.2rem;}")+"}@media (max-width: 480.5px) {"+e(" {border-radius: 0;}")+e(" .menuRight {width: 100%;}")+e(" .user p {width: auto;}")+"}@media (min-width: 480.5px) and (max-width: 1024.5px) {"+e(" {width: 320px; bottom:0; top: 75px;border-radius: 0;}")+e(" .blockCenter {justify-content: flex-start;}")+e(" .user p {width: auto;}")+"}@media (min-width: 1024.5px) {"+e(" {position:absolute; top:100%; bottom:auto; right: 0px; box-shadow: 0 8px 31px -10px #000;}")+e(" .user {display: flex; height: 80px; border-top-left-radius: 5px; border-top-right-radius: 5px;}")+e(" .userImg {flex: 0 0 80px;}")+e(" .user p {line-height: 80px; text-align: left; flex: 0 0 calc(100% - 90px); font-weight: 500;}")+e(" .itens {border-bottom-left-radius: 5px; border-bottom-right-radius: 5px;}")+"}");var o=null;function i(e){e?o=vgl.modal.open("userMenu"):o&&o.close()}function n(){vgl.enableScroll=matchMedia("(min-width: 1024.5px)").matches}$logon=document.getElementById("logon"),$logon.on("click",".close",function(){i(!1)}),$logon.on("click","#logoffBtn",vgl.user.logoff),vgl.modal.config("userMenu",{onOpen:function(e){o=e,$logon.classList.add("show"),window.addEventListener("resize",n,!1),n()},onClose:function(){o=null,$logon.classList.remove("show"),window.addEventListener("resize",removeEventListener,!1),vgl.enableScroll=!0},enableScrollControl:!1}),window.userUpdate=function(){var e;e=vgl.user.data,$logon.innerHTML='<button type="button" id="userBtn" class="btn icon-close"><i class="icon-arrowDown"></i><b>'+e.nick+'</b><span><img src="'+e.photo+'"></span></button><div id="userMenu"><div class="user"><div class="userImg"><img src="'+e.photo+'"></div><p>'+e.nick+'</p></div><div class="itens"><a href="https://meu.vagalume.com.br/'+e.login+'/" class="strong icon-meuVagalume">Meu Vagalume</a><hr><a href="/playlisteiros/" class="strong icon-vagalPlaylisteiros"> Playlisteiros</a><hr><a href="/add/" class="icon-enviarConteudo">Enviar artistas, letras, fotos e +</a><a href="https://vagalume.zendesk.com/" class="icon-help">Central de Ajuda</a><a href="https://auth.vagalume.com.br/settings/" class="icon-configs">Meus Dados</a><hr><a id="logoffBtn" class="icon-exit">Sair</a></div></div>',document.body.classList.add("logged"),$logon.querySelector("#userMenu").on("click",function(e){e.target.matches("a")||e.stopPropagation()}),$logon.querySelector("#userBtn").on("click",function(e){e.stopPropagation(),i(!o)})},window.userLogoff=function(){document.body.classList.remove("logged"),i(!1),$logon.innerHTML="",$userMenu=null},document.addEventListener("click",function(){i(!1)},!1),vgl.user.check()}).exec(function(){var e=null,o=null,i=this;function n(e){return"#loginModal"+e}this.login={open:function(){!o&&vgl.modal.open("logon")},cancel:function(e){o&&o.cancel(e)},close:function(e){o&&o.close(e)}},vgl.modal.config("logon",{onOpen:function(t){o=t,e||(e=vgl.element("div",{id:"loginModal",html:"<style>"+n(" {position: fixed; top:0; left:0; width: 100vw; height: 100vh;display:flex; overflow:hidden;background-color: rgba(0,0,0,0.5);z-index: 1000; text-align: center;}")+n(" iframe {width: 100%; height: 100%; background-color: #FFF}")+n(" .window {position: relative}")+n(" .close {position: absolute; background-color: transparent;color: #FFF; top:0; right:0; z-index: 100; font-size: 24px;}")+n(" .close:hover {color: #CF0;}")+"@media (min-width: 1024.5px) {"+n(" {display:block;}")+n(" iframe {height: 355px;}")+n(" .window {margin:auto; width: 900px; height: 385px; padding: 10px;border: 1px solid #FFF; background-color: #000; margin-top: calc(50vh - 176px);}")+n(" .window > p {margin-bottom: 10px; line-height: 20px;color: #FFF; font-weight: 500; text-align: left;}")+"}@media (max-width: 1024.5px) {"+n(" .window {width: 100vw; height: 100vh;}")+'}</style><div class="window"><button class="close icon-close"></button>'+(matchMedia("(min-width: 1024.5px)").matches?'<p>Login Vagalume</p><iframe class="desk" width="900" height="355" scrolling="no" frameborder="0" src="https://auth.vagalume.com.br/login/?action=login"></iframe>':'<iframe class="mob" scrolling="no" frameborder="0" src="https://auth-mobile.vagalume.com.br/login"></iframe>')+"</div>"}),document.body.appendChild(e),e.one("click",i.login.cancel),e.querySelector(".close").on("click",i.login.cancel),e.querySelector(".window").on("click",function(e){e.stopPropagation()}),(window.vagalume=window.vagalume||{}).registerPopup=i.register.open)},onClose:function(){e&&e.remove(),e=o=null}}),document.getElementById("register").on("click",this.login.open)}).exec(function(){var e=null,o=null,i=this;function n(e){return"#registerModal"+e}this.register={open:function(){vgl.modal.open("register")},cancel:function(o){e&&e.cancel(o)},close:function(o){e&&e.close(o)}},vgl.modal.config("register",{onOpen:function(t){e=t,o||(o=vgl.element("div",{id:"registerModal",html:"<style>"+n(" {position: fixed; top:0; left:0; width: 100vw; height: 100vh;display:flex; overflow:hidden;background-color: rgba(0,0,0,0.5);z-index: 1000; text-align: center;}")+n(" iframe {width: 100%; height: 100%; background-color: #FFF}")+n(" .window {position: relative}")+n(" .close {position: absolute; background-color: transparent;color: #FFF; top:0; right:0; z-index: 10; font-size: 24px;}")+n(" .close:hover {color: #CF0;}")+"@media (min-width: 1024.5px) {"+n(" {display:block;}")+n(" iframe {height: 500px;}")+n(" .window {margin:auto; width: 640px; height: 530px; padding: 10px;border: 1px solid #FFF; background-color: #000; margin-top: calc(50vh - 276px);}")+n(" .window > p {margin-bottom: 10px; line-height: 20px;color: #FFF; font-weight: 500; text-align: left;}")+"}@media (min-width: 480.5px) AND (max-width: 1024.5px) {"+n(" .window {margin: 0 auto; height: 100%; width: 480px; }")+"}@media (max-width: 480.5px) {"+n(" .window {width: 100vw; height: 100vh;}")+'}</style><div class="window"><button class="close icon-close"></button><p>Cadastro Vagalume</p><iframe class="desk" width="640" height="500" scrolling="no" frameborder="0" src="https://auth.vagalume.com.br/login/add.php#home"></iframe></div>'}),document.body.appendChild(o),o.on("click",i.register.cancel),o.querySelector(".close").on("click",i.register.cancel),o.querySelector(".window").on("click",function(e){e.stopPropagation()}),o.querySelector("iframe").on("load unload",vgl.user.check))},onClose:function(){o&&o.remove(),o=e=null}})}).exec(function(){var e=this;window.addEventListener("message",function(o){if(void 0!==o.data&&'{"event":"logged"}'==o.data){var i=vgl.user.check();i&&(e.login.close(i),e.register.close(i))}},!1)});